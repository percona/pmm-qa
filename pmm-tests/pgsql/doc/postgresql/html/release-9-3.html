<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.77. Release 9.3</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-9-3-1.html" title="E.76. Release 9.3.1" /><link rel="next" href="release-9-2-24.html" title="E.78. Release 9.2.24" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">E.77. Release 9.3</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-9-3-1.html" title="E.76. Release 9.3.1">Prev</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="Appendix E. Release Notes">Up</a></td><th width="60%" align="center">Appendix E. Release Notes</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 10.5 Documentation">Home</a></td><td width="10%" align="right"> <a accesskey="n" href="release-9-2-24.html" title="E.78. Release 9.2.24">Next</a></td></tr></table><hr></hr></div><div class="sect1" id="RELEASE-9-3"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.77. Release 9.3</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="sect2"><a href="release-9-3.html#id-1.11.6.81.3">E.77.1. Overview</a></span></dt><dt><span class="sect2"><a href="release-9-3.html#id-1.11.6.81.4">E.77.2. Migration to Version 9.3</a></span></dt><dt><span class="sect2"><a href="release-9-3.html#id-1.11.6.81.5">E.77.3. Changes</a></span></dt></dl></div><p><strong>Release date: </strong>2013-09-09</p><div class="sect2" id="id-1.11.6.81.3"><div class="titlepage"><div><div><h3 class="title">E.77.1. Overview</h3></div></div></div><p>    Major enhancements in <span class="productname">PostgreSQL</span> 9.3 include:
   </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>      Add <a class="link" href="sql-creatematerializedview.html" title="CREATE MATERIALIZED VIEW">materialized
      views</a>
     </p></li><li class="listitem"><p>      Make simple views <a class="link" href="sql-createview.html#SQL-CREATEVIEW-UPDATABLE-VIEWS" title="Updatable Views">auto-updatable</a>
     </p></li><li class="listitem"><p>      Add many features for the <code class="type">JSON</code> data type,
      including <a class="link" href="functions-json.html" title="9.15. JSON Functions and Operators">operators and functions</a>
      to extract elements from <code class="type">JSON</code> values
     </p></li><li class="listitem"><p>      Implement <acronym class="acronym">SQL</acronym>-standard <a class="link" href="queries-table-expressions.html#QUERIES-LATERAL" title="7.2.1.5. LATERAL Subqueries"><code class="literal">LATERAL</code></a> option for
      <code class="literal">FROM</code>-clause subqueries and function calls
     </p></li><li class="listitem"><p>      Allow <a class="link" href="sql-createforeigndatawrapper.html" title="CREATE FOREIGN DATA WRAPPER">foreign data
      wrappers</a> to support writes (inserts/updates/deletes) on foreign
      tables
     </p></li><li class="listitem"><p>      Add a <a class="link" href="postgres-fdw.html" title="F.34. postgres_fdw"><span class="productname">Postgres</span> foreign
      data wrapper</a> to allow access to
      other <span class="productname">Postgres</span> servers
     </p></li><li class="listitem"><p>      Add support for <a class="link" href="event-triggers.html" title="Chapter 39. Event Triggers">event triggers</a>
     </p></li><li class="listitem"><p>      Add optional ability to <a class="link" href="app-initdb.html#APP-INITDB-DATA-CHECKSUMS">checksum</a> data pages and
      report corruption
     </p></li><li class="listitem"><p>      Prevent non-key-field row updates from blocking foreign key checks
     </p></li><li class="listitem"><p>      Greatly reduce System V <a class="link" href="kernel-resources.html#SYSVIPC" title="18.4.1. Shared Memory and Semaphores">shared
      memory</a> requirements
     </p></li></ul></div><p>    The above items are explained in more detail in the sections below.
   </p></div><div class="sect2" id="id-1.11.6.81.4"><div class="titlepage"><div><div><h3 class="title">E.77.2. Migration to Version 9.3</h3></div></div></div><p>    A dump/restore using <a class="link" href="app-pg-dumpall.html" title="pg_dumpall"><span class="application">pg_dumpall</span></a>, or use
    of <a class="link" href="pgupgrade.html" title="pg_upgrade"><span class="application">pg_upgrade</span></a>, is
    required for those wishing to migrate data from any previous release.
   </p><p>    Version 9.3 contains a number of changes that may affect compatibility
    with previous releases.  Observe the following incompatibilities:
   </p><div class="sect3" id="id-1.11.6.81.4.4"><div class="titlepage"><div><div><h4 class="title">E.77.2.1. Server Settings</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Rename <code class="varname">replication_timeout</code> to <a class="link" href="runtime-config-replication.html#GUC-WAL-SENDER-TIMEOUT"><code class="varname">wal_sender_timeout</code></a>
        (Amit Kapila)
       </p><p>        This setting controls the <a class="link" href="wal.html" title="Chapter 30. Reliability and the Write-Ahead Log"><acronym class="acronym">WAL</acronym></a> sender timeout.
       </p></li><li class="listitem"><p>        Require superuser privileges to set <a class="link" href="runtime-config-wal.html#GUC-COMMIT-DELAY"><code class="varname">commit_delay</code></a>
        because it can now potentially delay other sessions (Simon Riggs)
       </p></li><li class="listitem"><p>        Allow in-memory sorts to use their full memory allocation (Jeff Janes)
       </p><p>        Users who have set <a class="link" href="runtime-config-resource.html#GUC-WORK-MEM"><code class="varname">work_mem</code></a> based on the
        previous behavior may need to revisit that setting.
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.81.4.5"><div class="titlepage"><div><div><h4 class="title">E.77.2.2. Other</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Throw an error if a tuple to be updated or deleted has already been
        updated or deleted by a <code class="literal">BEFORE</code> trigger (Kevin Grittner)
       </p><p>        Formerly, the originally-intended update was silently skipped,
        resulting in logical inconsistency since the trigger might have
        propagated data to other places based on the intended update.
        Now an error is thrown to prevent the inconsistent results from being
        committed.  If this change affects your application, the best solution
        is usually to move the data-propagation actions to
        an <code class="literal">AFTER</code> trigger.
       </p><p>        This error will also be thrown if a query invokes a volatile function
        that modifies rows that are later modified by the query itself.
        Such cases likewise previously resulted in silently skipping updates.
       </p></li><li class="listitem"><p>        Change multicolumn <a class="link" href="sql-createtable.html" title="CREATE TABLE"><code class="literal">ON UPDATE
        SET NULL/SET DEFAULT</code></a> foreign key actions to affect
        all columns of the constraint, not just those changed in the
        <code class="command">UPDATE</code> (Tom Lane)
       </p><p>        Previously, we would set only those referencing columns that
        correspond to referenced columns that were changed by
        the <code class="command">UPDATE</code>.  This was what was required by SQL-92,
        but more recent editions of the SQL standard specify the new behavior.
       </p></li><li class="listitem"><p>        Force cached plans to be replanned if the <a class="link" href="runtime-config-client.html#GUC-SEARCH-PATH"><code class="varname">search_path</code></a> changes
        (Tom Lane)
       </p><p>        Previously, cached plans already generated in the current session were
        not redone if the query was re-executed with a
        new <code class="varname">search_path</code> setting, resulting in surprising behavior.
       </p></li><li class="listitem"><p>        Fix <a class="link" href="functions-formatting.html#FUNCTIONS-FORMATTING-TABLE" title="Table 9.23. Formatting Functions"><code class="function">to_number()</code></a>
        to properly handle a period used as a thousands separator (Tom Lane)
       </p><p>        Previously, a period was considered to be a decimal point even when
        the locale says it isn't and the <code class="literal">D</code> format code is used to
        specify use of the locale-specific decimal point.  This resulted in
        wrong answers if <code class="literal">FM</code> format was also used.
       </p></li><li class="listitem"><p>        Fix <code class="literal">STRICT</code> non-set-returning functions that have
        set-returning functions in their arguments to properly return null
        rows (Tom Lane)
       </p><p>        A null value passed to the strict function should result in a null
        output, but instead, that output row was suppressed entirely.
       </p></li><li class="listitem"><p>        Store <a class="link" href="wal.html" title="Chapter 30. Reliability and the Write-Ahead Log"><acronym class="acronym">WAL</acronym></a> in a continuous
        stream, rather than skipping the last 16MB segment every 4GB
        (Heikki Linnakangas)
       </p><p>        Previously, <acronym class="acronym">WAL</acronym> files with names ending in <code class="literal">FF</code>
        were not used because of this skipping.  If you have <acronym class="acronym">WAL</acronym>
        backup or restore scripts that took this behavior into account, they
        will need to be adjusted.
       </p></li><li class="listitem"><p>        In <a class="link" href="catalog-pg-constraint.html" title="51.13. pg_constraint"><code class="structname">pg_constraint.confmatchtype</code></a>,
        store the default foreign key match type (non-<code class="literal">FULL</code>,
        non-<code class="literal">PARTIAL</code>) as <code class="literal">s</code> for <span class="quote">“<span class="quote">simple</span>”</span>
        (Tom Lane)
       </p><p>        Previously this case was represented by <code class="literal">u</code>
        for <span class="quote">“<span class="quote">unspecified</span>”</span>.
       </p></li></ul></div></div></div><div class="sect2" id="id-1.11.6.81.5"><div class="titlepage"><div><div><h3 class="title">E.77.3. Changes</h3></div></div></div><p>    Below you will find a detailed account of the changes between
    <span class="productname">PostgreSQL</span> 9.3 and the previous major
    release.
   </p><div class="sect3" id="id-1.11.6.81.5.3"><div class="titlepage"><div><div><h4 class="title">E.77.3.1. Server</h4></div></div></div><div class="sect4" id="id-1.11.6.81.5.3.2"><div class="titlepage"><div><div><h5 class="title">E.77.3.1.1. Locking</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Prevent non-key-field row updates from blocking foreign key checks
        (Álvaro Herrera, Noah Misch, Andres Freund, Alexander
        Shulgin, Marti Raudsepp, Alexander Shulgin)
       </p><p>        This change improves concurrency and reduces the probability of
        deadlocks when updating tables involved in a foreign-key constraint.
        <code class="command">UPDATE</code>s that do not change any columns referenced in a
        foreign key now take the new <code class="literal">NO KEY UPDATE</code> lock mode on
        the row, while foreign key checks use the new <code class="literal">KEY SHARE</code>
        lock mode, which does not conflict with <code class="literal">NO KEY UPDATE</code>.
        So there is no blocking unless a foreign-key column is changed.
       </p></li><li class="listitem"><p>        Add configuration variable <a class="link" href="runtime-config-client.html#GUC-LOCK-TIMEOUT"><code class="varname">lock_timeout</code></a> to
        allow limiting how long a session will wait to acquire any one lock
        (Zoltán Böszörményi)
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.81.5.3.3"><div class="titlepage"><div><div><h5 class="title">E.77.3.1.2. Indexes</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Add <a class="link" href="rangetypes.html#RANGETYPES-INDEXING" title="8.17.9. Indexing"><acronym class="acronym">SP-GiST</acronym></a>
        support for range data types (Alexander Korotkov)
       </p></li><li class="listitem"><p>        Allow <a class="link" href="gist.html" title="Chapter 62. GiST Indexes"><acronym class="acronym">GiST</acronym></a> indexes to be
        unlogged (Jeevan Chalke)
       </p></li><li class="listitem"><p>        Improve performance of <acronym class="acronym">GiST</acronym> index insertion by randomizing
        the choice of which page to descend to when there are multiple equally
        good alternatives (Heikki Linnakangas)
       </p></li><li class="listitem"><p>        Improve concurrency of hash index operations (Robert Haas)
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.81.5.3.4"><div class="titlepage"><div><div><h5 class="title">E.77.3.1.3. Optimizer</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Collect and use histograms of upper and lower bounds, as well as range
        lengths, for <a class="link" href="rangetypes.html" title="8.17. Range Types">range types</a>
        (Alexander Korotkov)
       </p></li><li class="listitem"><p>        Improve optimizer's cost estimation for index access (Tom Lane)
       </p></li><li class="listitem"><p>        Improve optimizer's hash table size estimate for
        doing <code class="literal">DISTINCT</code> via hash aggregation (Tom Lane)
       </p></li><li class="listitem"><p>        Suppress no-op Result and Limit plan nodes
        (Kyotaro Horiguchi, Amit Kapila, Tom Lane)
       </p></li><li class="listitem"><p>        Reduce optimizer overhead by not keeping plans on the basis of cheap
        startup cost when the optimizer only cares about total cost overall
        (Tom Lane)
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.81.5.3.5"><div class="titlepage"><div><div><h5 class="title">E.77.3.1.4. General Performance</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Add <a class="link" href="sql-copy.html" title="COPY"><code class="command">COPY FREEZE</code></a>
        option to avoid the overhead of marking tuples as frozen later
        (Simon Riggs, Jeff Davis)
       </p></li><li class="listitem"><p>        Improve performance of <a class="link" href="datatype-numeric.html" title="8.1. Numeric Types"><code class="type">NUMERIC</code></a> calculations
        (Kyotaro Horiguchi)
       </p></li><li class="listitem"><p>        Improve synchronization of sessions waiting for <a class="link" href="runtime-config-wal.html#GUC-COMMIT-DELAY"><code class="varname">commit_delay</code></a>
        (Peter Geoghegan)
       </p><p>        This greatly improves the usefulness of <code class="varname">commit_delay</code>.
       </p></li><li class="listitem"><p>        Improve performance of the <a class="link" href="sql-createtable.html" title="CREATE TABLE"><code class="command">CREATE TEMPORARY TABLE ... ON
        COMMIT DELETE ROWS</code></a> option by not truncating such temporary
        tables in transactions that haven't touched any temporary tables
        (Heikki Linnakangas)
       </p></li><li class="listitem"><p>        Make vacuum recheck visibility after it has removed expired tuples
        (Pavan Deolasee)
       </p><p>        This increases the chance of a page being marked as all-visible.
       </p></li><li class="listitem"><p>        Add per-resource-owner lock caches (Jeff Janes)
       </p><p>        This speeds up lock bookkeeping at statement completion in
        multi-statement transactions that hold many locks; it is particularly
        useful for <span class="application">pg_dump</span>.
       </p></li><li class="listitem"><p>        Avoid scanning the entire relation cache at commit of a transaction
        that creates a new relation (Jeff Janes)
       </p><p>        This speeds up sessions that create many tables in successive
        small transactions, such as a <span class="application">pg_restore</span> run.
       </p></li><li class="listitem"><p>        Improve performance of transactions that drop many relations
        (Tomas Vondra)
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.81.5.3.6"><div class="titlepage"><div><div><h5 class="title">E.77.3.1.5. Monitoring</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Add optional ability to <a class="link" href="app-initdb.html#APP-INITDB-DATA-CHECKSUMS">checksum</a> data pages and
        report corruption (Simon Riggs, Jeff Davis, Greg Smith, Ants Aasma)
       </p><p>        The checksum option can be set during <a class="link" href="app-initdb.html" title="initdb">initdb</a>.
       </p></li><li class="listitem"><p>        Split the <a class="link" href="monitoring-stats.html" title="28.2. The Statistics Collector">statistics collector's</a>
        data file into separate global and per-database files (Tomas Vondra)
       </p><p>        This reduces the I/O required for statistics tracking.
       </p></li><li class="listitem"><p>        Fix the statistics collector to operate properly in cases where the
        system clock goes backwards (Tom Lane)
       </p><p>        Previously, statistics collection would stop until the time again
        reached the latest time previously recorded.
       </p></li><li class="listitem"><p>        Emit an informative message to postmaster standard error when we
        are about to stop logging there
        (Tom Lane)
       </p><p>        This should help reduce user confusion about where to look for log
        output in common configurations that log to standard error only during
        postmaster startup.
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.81.5.3.7"><div class="titlepage"><div><div><h5 class="title">E.77.3.1.6. Authentication</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        When an authentication failure occurs, log the relevant
        <a class="link" href="auth-pg-hba-conf.html" title="20.1. The pg_hba.conf File"><code class="filename">pg_hba.conf</code></a>
        line, to ease debugging of unintended failures
        (Magnus Hagander)
       </p></li><li class="listitem"><p>        Improve <a class="link" href="auth-methods.html#AUTH-LDAP" title="20.3.7. LDAP Authentication"><acronym class="acronym">LDAP</acronym></a> error
        reporting and documentation (Peter Eisentraut)
       </p></li><li class="listitem"><p>        Add support for specifying <acronym class="acronym">LDAP</acronym> authentication parameters
        in <acronym class="acronym">URL</acronym> format, per RFC 4516 (Peter Eisentraut)
       </p></li><li class="listitem"><p>        Change the <a class="link" href="runtime-config-connection.html#GUC-SSL-CIPHERS"><code class="varname">ssl_ciphers</code></a> parameter
        to start with <code class="literal">DEFAULT</code>, rather than <code class="literal">ALL</code>,
        then remove insecure ciphers (Magnus Hagander)
       </p><p>        This should yield a more appropriate SSL cipher set.
       </p></li><li class="listitem"><p>        Parse and load <a class="link" href="auth-username-maps.html" title="20.2. User Name Maps"><code class="filename">pg_ident.conf</code></a>
        once, not during each connection (Amit Kapila)
       </p><p>        This is similar to how <code class="filename">pg_hba.conf</code> is processed.
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.81.5.3.8"><div class="titlepage"><div><div><h5 class="title">E.77.3.1.7. Server Settings</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Greatly reduce System V <a class="link" href="kernel-resources.html#SYSVIPC" title="18.4.1. Shared Memory and Semaphores">shared
        memory</a> requirements (Robert Haas)
       </p><p>        On Unix-like systems, <code class="function">mmap()</code> is now used for most
        of <span class="productname">PostgreSQL</span>'s shared memory.  For most users, this
        will eliminate any need to adjust kernel parameters for shared memory.
       </p></li><li class="listitem"><p>        Allow the postmaster to listen on multiple Unix-domain sockets
        (Honza Horák)
       </p><p>        The configuration parameter
        <code class="varname">unix_socket_directory</code> is replaced by <a class="link" href="runtime-config-connection.html#GUC-UNIX-SOCKET-DIRECTORIES"><code class="varname">unix_socket_directories</code></a>,
        which accepts a list of directories.
       </p></li><li class="listitem"><p>        Allow a directory of configuration files to be processed (Magnus
        Hagander, Greg Smith, Selena Deckelmann)
       </p><p>        Such a directory is specified with <a class="link" href="config-setting.html#CONFIG-INCLUDES" title="19.1.5. Managing Configuration File Contents"><code class="varname">include_dir</code></a> in the server
        configuration file.
       </p></li><li class="listitem"><p>        Increase the maximum <a class="link" href="app-initdb.html" title="initdb">initdb</a>-configured value for <a class="link" href="runtime-config-resource.html#GUC-SHARED-BUFFERS"><code class="varname">shared_buffers</code></a>
        to 128MB (Robert Haas)
       </p><p>        This is the maximum value that initdb will attempt to set in <a class="link" href="config-setting.html#CONFIG-SETTING-CONFIGURATION-FILE" title="19.1.2. Parameter Interaction via the Configuration File"><code class="filename">postgresql.conf</code></a>;
        the previous maximum was 32MB.
       </p></li><li class="listitem"><p>        Remove the <a class="link" href="runtime-config-file-locations.html#GUC-EXTERNAL-PID-FILE">external
        <acronym class="acronym">PID</acronym> file</a>, if any, on postmaster exit
        (Peter Eisentraut)
       </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.81.5.4"><div class="titlepage"><div><div><h4 class="title">E.77.3.2. Replication and Recovery</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Allow a streaming replication standby to <a class="link" href="protocol-replication.html" title="52.4. Streaming Replication Protocol">follow a timeline switch</a>
        (Heikki Linnakangas)
       </p><p>        This allows streaming standby servers to receive WAL data from a slave
        newly promoted to master status.  Previously, other standbys would
        require a resync to begin following the new master.
       </p></li><li class="listitem"><p>        Add <acronym class="acronym">SQL</acronym> functions <a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-BACKUP" title="9.26.3. Backup Control Functions"><code class="function">pg_is_in_backup()</code></a>
        and <a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-BACKUP" title="9.26.3. Backup Control Functions"><code class="function">pg_backup_start_time()</code></a>
        (Gilles Darold)
       </p><p>        These functions report the status of base backups.
       </p></li><li class="listitem"><p>        Improve performance of streaming log shipping with <a class="link" href="runtime-config-wal.html#GUC-SYNCHRONOUS-COMMIT"><code class="varname">synchronous_commit</code></a>
        disabled (Andres Freund)
       </p></li><li class="listitem"><p>        Allow much faster promotion of a streaming standby to primary (Simon
        Riggs, Kyotaro Horiguchi)
       </p></li><li class="listitem"><p>        Add the last checkpoint's redo location to <a class="link" href="app-pgcontroldata.html" title="pg_controldata"><span class="application">pg_controldata</span></a>'s
        output (Fujii Masao)
       </p><p>        This information is useful for determining which <acronym class="acronym">WAL</acronym>
        files are needed for restore.
       </p></li><li class="listitem"><p>        Allow tools like <a class="link" href="app-pgreceivewal.html" title="pg_receivewal"><span class="application">pg_receivexlog</span></a>
        to run on computers with different architectures (Heikki
        Linnakangas)
       </p><p>        WAL files can still only be replayed on servers with the same
        architecture as the primary; but they can now be transmitted to and
        stored on machines of any architecture, since the
        streaming replication protocol is now machine-independent.
       </p></li><li class="listitem"><p>        Make <a class="link" href="app-pgbasebackup.html" title="pg_basebackup"><span class="application">pg_basebackup</span></a>
        <code class="option">--write-recovery-conf</code> output a
        minimal <code class="filename">recovery.conf</code> file (Zoltán
        Böszörményi, Magnus Hagander)
       </p><p>        This simplifies setting up a standby server.
       </p></li><li class="listitem"><p>        Allow <a class="link" href="app-pgreceivewal.html" title="pg_receivewal"><span class="application">pg_receivexlog</span></a>
        and <a class="link" href="app-pgbasebackup.html" title="pg_basebackup"><span class="application">pg_basebackup</span></a>
        <code class="option">--xlog-method</code> to handle streaming timeline switches
        (Heikki Linnakangas)
       </p></li><li class="listitem"><p>        Add <a class="link" href="runtime-config-replication.html#GUC-WAL-RECEIVER-TIMEOUT"><code class="varname">wal_receiver_timeout</code></a>
        parameter to control the <acronym class="acronym">WAL</acronym> receiver's timeout
        (Amit Kapila)
       </p><p>        This allows more rapid detection of connection failure.
       </p></li><li class="listitem"><p>        Change the <a class="link" href="wal.html" title="Chapter 30. Reliability and the Write-Ahead Log"><acronym class="acronym">WAL</acronym></a> record format to
        allow splitting the record header across pages (Heikki Linnakangas)
       </p><p>        The new format is slightly more compact, and is more efficient to
        write.
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.81.5.5"><div class="titlepage"><div><div><h4 class="title">E.77.3.3. Queries</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Implement <acronym class="acronym">SQL</acronym>-standard <a class="link" href="queries-table-expressions.html#QUERIES-LATERAL" title="7.2.1.5. LATERAL Subqueries"><code class="literal">LATERAL</code></a> option for
        <code class="literal">FROM</code>-clause subqueries and function calls (Tom Lane)
       </p><p>        This feature allows subqueries and functions in <code class="literal">FROM</code> to
        reference columns from other tables in the <code class="literal">FROM</code>
        clause. The <code class="literal">LATERAL</code> keyword is optional for functions.
       </p></li><li class="listitem"><p>        Add support for piping <a class="link" href="sql-copy.html" title="COPY"><code class="command">COPY</code></a> and <a class="link" href="app-psql.html" title="psql"><span class="application">psql</span></a> <code class="command">\copy</code>
        data to/from an external program (Etsuro Fujita)
       </p></li><li class="listitem"><p>        Allow a multirow <a class="link" href="sql-values.html" title="VALUES"><code class="literal">VALUES</code></a> clause in a rule
        to reference <code class="literal">OLD</code>/<code class="literal">NEW</code> (Tom Lane)
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.81.5.6"><div class="titlepage"><div><div><h4 class="title">E.77.3.4. Object Manipulation</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Add support for <a class="link" href="event-triggers.html" title="Chapter 39. Event Triggers">event triggers</a>
        (Dimitri Fontaine, Robert Haas, Álvaro Herrera)
       </p><p>        This allows server-side functions written in event-enabled
        languages to be called when DDL commands are run.
       </p></li><li class="listitem"><p>        Allow <a class="link" href="sql-createforeigndatawrapper.html" title="CREATE FOREIGN DATA WRAPPER">foreign data
        wrappers</a> to support writes (inserts/updates/deletes) on foreign
        tables (KaiGai Kohei)
       </p></li><li class="listitem"><p>        Add <a class="link" href="sql-createschema.html" title="CREATE SCHEMA"><code class="command">CREATE SCHEMA ... IF
        NOT EXISTS</code></a> clause (Fabrízio de Royes Mello)
       </p></li><li class="listitem"><p>        Make <a class="link" href="sql-reassign-owned.html" title="REASSIGN OWNED"><code class="command">REASSIGN
        OWNED</code></a> also change ownership of shared objects
        (Álvaro Herrera)
       </p></li><li class="listitem"><p>        Make <a class="link" href="sql-createaggregate.html" title="CREATE AGGREGATE"><code class="command">CREATE
        AGGREGATE</code></a> complain if the given initial value string is not
        valid input for the transition datatype (Tom Lane)
       </p></li><li class="listitem"><p>        Suppress <a class="link" href="sql-createtable.html" title="CREATE TABLE"><code class="command">CREATE
        TABLE</code></a>'s messages about implicit index and sequence creation
        (Robert Haas)
       </p><p>        These messages now appear at <code class="literal">DEBUG1</code> verbosity, so that
        they will not be shown by default.
       </p></li><li class="listitem"><p>        Allow <a class="link" href="sql-droptable.html" title="DROP TABLE"><code class="command">DROP TABLE IF
        EXISTS</code></a> to succeed when a non-existent schema is specified
        in the table name (Bruce Momjian)
       </p><p>         Previously, it threw an error if the schema did not exist.
       </p></li><li class="listitem"><p>        Provide clients with <a class="link" href="libpq-exec.html#LIBPQ-PQRESULTERRORFIELD">constraint violation details</a>
        as separate fields (Pavel Stehule)
       </p><p>        This allows clients to retrieve table, column, data type, or
        constraint name error details.  Previously such information had to be
        extracted from error strings.  Client library support is required to
        access these fields.
       </p></li></ul></div><div class="sect4" id="id-1.11.6.81.5.6.3"><div class="titlepage"><div><div><h5 class="title">E.77.3.4.1. <code class="command">ALTER</code></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Support <code class="literal">IF NOT EXISTS</code> option in <a class="link" href="sql-altertype.html" title="ALTER TYPE"><code class="command">ALTER TYPE ... ADD VALUE</code></a>
        (Andrew Dunstan)
       </p><p>        This is useful for conditionally adding values to enumerated types.
       </p></li><li class="listitem"><p>        Add <a class="link" href="sql-alterrole.html" title="ALTER ROLE"><code class="command">ALTER ROLE ALL
        SET</code></a> to establish settings for all users (Peter Eisentraut)
       </p><p>        This allows settings to apply to all users in all databases. <a class="link" href="sql-alterdatabase.html" title="ALTER DATABASE"><code class="command">ALTER DATABASE SET</code></a>
        already allowed addition of settings for all users in a single
        database.  <code class="filename">postgresql.conf</code> has a similar effect.
       </p></li><li class="listitem"><p>        Add support for <a class="link" href="sql-alterrule.html" title="ALTER RULE"><code class="command">ALTER RULE
        ... RENAME</code></a> (Ali Dar)
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.81.5.6.4"><div class="titlepage"><div><div><h5 class="title">E.77.3.4.2. <a class="link" href="rules-views.html" title="40.2. Views and the Rule System"><code class="command">VIEWs</code></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Add <a class="link" href="sql-creatematerializedview.html" title="CREATE MATERIALIZED VIEW">materialized
        views</a> (Kevin Grittner)
       </p><p>        Unlike ordinary views, where the base tables are read on every access,
        materialized views create physical tables at creation or refresh time.
        Access to the materialized view then reads from its physical
        table. There is not yet any facility for incrementally refreshing
        materialized views or auto-accessing them via base table access.
       </p></li><li class="listitem"><p>        Make simple views <a class="link" href="sql-createview.html#SQL-CREATEVIEW-UPDATABLE-VIEWS" title="Updatable Views">auto-updatable</a>
        (Dean Rasheed)
       </p><p>        Simple views that reference some or all columns from a
        single base table are now updatable by default. More
        complex views can be made updatable using <a class="link" href="sql-createtrigger.html" title="CREATE TRIGGER"><code class="literal">INSTEAD OF</code></a> triggers
        or <a class="link" href="sql-createrule.html" title="CREATE RULE"><code class="literal">INSTEAD</code></a> rules.
       </p></li><li class="listitem"><p>        Add <a class="link" href="sql-createview.html" title="CREATE VIEW"><code class="command">CREATE RECURSIVE
        VIEW</code></a> syntax (Peter Eisentraut)
       </p><p>        Internally this is translated into <code class="command">CREATE VIEW ... WITH
        RECURSIVE ...</code>.
       </p></li><li class="listitem"><p>        Improve view/rule printing code to handle cases where referenced
        tables are renamed, or columns are renamed, added, or dropped
        (Tom Lane)
       </p><p>        Table and column renamings can produce cases where, if we merely
        substitute the new name into the original text of a rule or view, the
        result is ambiguous.  This change fixes the rule-dumping code to insert
        manufactured table and column aliases when needed to preserve the
        original semantics.
       </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.81.5.7"><div class="titlepage"><div><div><h4 class="title">E.77.3.5. Data Types</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Increase the maximum size of <a class="link" href="largeobjects.html" title="Chapter 34. Large Objects">large
        objects</a> from 2GB to 4TB (Nozomi Anzai, Yugo Nagata)
       </p><p>        This change includes adding 64-bit-capable large object access
        functions, both in the server and in libpq.
       </p></li><li class="listitem"><p>        Allow text <a class="link" href="datatype-datetime.html#DATATYPE-TIMEZONES" title="8.5.3. Time Zones">timezone
        designations</a>, e.g. <span class="quote">“<span class="quote">America/Chicago</span>”</span>, in the
        <span class="quote">“<span class="quote">T</span>”</span> field of <acronym class="acronym">ISO</acronym>-format <code class="type">timestamptz</code>
        input (Bruce Momjian)
       </p></li></ul></div><div class="sect4" id="id-1.11.6.81.5.7.3"><div class="titlepage"><div><div><h5 class="title">E.77.3.5.1. <a class="link" href="datatype-json.html" title="8.14. JSON Types"><code class="type">JSON</code></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Add <a class="link" href="functions-json.html" title="9.15. JSON Functions and Operators">operators and functions</a>
        to extract elements from <code class="type">JSON</code> values (Andrew Dunstan)
       </p></li><li class="listitem"><p>        Allow <code class="type">JSON</code> values to be <a class="link" href="functions-json.html" title="9.15. JSON Functions and Operators">converted into records</a>
        (Andrew Dunstan)
       </p></li><li class="listitem"><p>        Add <a class="link" href="functions-json.html" title="9.15. JSON Functions and Operators">functions</a> to convert
        scalars, records, and <code class="type">hstore</code> values to <code class="type">JSON</code> (Andrew
        Dunstan)
       </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.81.5.8"><div class="titlepage"><div><div><h4 class="title">E.77.3.6. Functions</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Add <a class="link" href="functions-array.html#ARRAY-FUNCTIONS-TABLE" title="Table 9.49. Array Functions"><code class="function">array_remove()</code></a>
        and <a class="link" href="functions-array.html#ARRAY-FUNCTIONS-TABLE" title="Table 9.49. Array Functions"><code class="function">array_replace()</code></a>
        functions (Marco Nenciarini, Gabriele Bartolini)
       </p></li><li class="listitem"><p>        Allow <a class="link" href="functions-string.html#FUNCTIONS-STRING-OTHER" title="Table 9.9. Other String Functions"><code class="function">concat()</code></a>
        and <a class="link" href="functions-string.html#FUNCTIONS-STRING-FORMAT" title="9.4.1. format"><code class="function">format()</code></a>
        to properly expand <code class="literal">VARIADIC</code>-labeled arguments
        (Pavel Stehule)
       </p></li><li class="listitem"><p>        Improve <a class="link" href="functions-string.html#FUNCTIONS-STRING-FORMAT" title="9.4.1. format"><code class="function">format()</code></a>
        to provide field width and left/right alignment options (Pavel Stehule)
       </p></li><li class="listitem"><p>        Make <a class="link" href="functions-formatting.html#FUNCTIONS-FORMATTING-TABLE" title="Table 9.23. Formatting Functions"><code class="function">to_char()</code></a>,
        <a class="link" href="functions-formatting.html#FUNCTIONS-FORMATTING-TABLE" title="Table 9.23. Formatting Functions"><code class="function">to_date()</code></a>,
        and <a class="link" href="functions-formatting.html#FUNCTIONS-FORMATTING-TABLE" title="Table 9.23. Formatting Functions"><code class="function">to_timestamp()</code></a>
        handle negative (BC) century values properly
        (Bruce Momjian)
       </p><p>        Previously the behavior was either wrong or inconsistent
        with positive/<acronym class="acronym">AD</acronym> handling, e.g. with the format mask
        <span class="quote">“<span class="quote">IYYY-IW-DY</span>”</span>.
       </p></li><li class="listitem"><p>        Make <a class="link" href="functions-formatting.html#FUNCTIONS-FORMATTING-TABLE" title="Table 9.23. Formatting Functions"><code class="function">to_date()</code></a>
        and <a class="link" href="functions-formatting.html#FUNCTIONS-FORMATTING-TABLE" title="Table 9.23. Formatting Functions"><code class="function">to_timestamp()</code></a>
        return proper results when mixing <acronym class="acronym">ISO</acronym> and Gregorian
        week/day designations (Bruce Momjian)
       </p></li><li class="listitem"><p>        Cause <a class="link" href="functions-info.html#FUNCTIONS-INFO-CATALOG-TABLE" title="Table 9.63. System Catalog Information Functions"><code class="function">pg_get_viewdef()</code></a>
        to start a new line by default after each <code class="literal">SELECT</code> target
        list entry and <code class="literal">FROM</code> entry (Marko Tiikkaja)
       </p><p>        This reduces line length in view printing, for instance in <a class="link" href="app-pgdump.html" title="pg_dump"><span class="application">pg_dump</span></a> output.
       </p></li><li class="listitem"><p>        Fix <code class="function">map_sql_value_to_xml_value()</code> to print values of
        domain types the same way their base type would be printed
        (Pavel Stehule)
       </p><p>        There are special formatting rules for certain built-in types such as
        <code class="type">boolean</code>; these rules now also apply to domains over these
        types.
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.81.5.9"><div class="titlepage"><div><div><h4 class="title">E.77.3.7. Server-Side Languages</h4></div></div></div><div class="sect4" id="id-1.11.6.81.5.9.2"><div class="titlepage"><div><div><h5 class="title">E.77.3.7.1. <a class="link" href="plpgsql.html" title="Chapter 42. PL/pgSQL - SQL Procedural Language">PL/pgSQL</a> Server-Side Language</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Allow PL/pgSQL to use <code class="literal">RETURN</code> with a composite-type
        expression (Asif Rehman)
       </p><p>        Previously, in a function returning a composite type,
        <code class="literal">RETURN</code> could only reference a variable of that type.
       </p></li><li class="listitem"><p>        Allow PL/pgSQL to access <a class="link" href="plpgsql-control-structures.html#PLPGSQL-EXCEPTION-DIAGNOSTICS" title="42.6.6.1. Obtaining Information About an Error">constraint violation
        details</a> as separate fields (Pavel Stehule)
       </p></li><li class="listitem"><p>        Allow PL/pgSQL to access the number of rows processed by
        <a class="link" href="sql-copy.html" title="COPY"><code class="command">COPY</code></a> (Pavel Stehule)
       </p><p>        A <code class="command">COPY</code> executed in a PL/pgSQL function now updates the
        value retrieved by <a class="link" href="plpgsql-statements.html#PLPGSQL-STATEMENTS-DIAGNOSTICS" title="42.5.5. Obtaining the Result Status"><code class="command">GET DIAGNOSTICS
        x = ROW_COUNT</code></a>.
       </p></li><li class="listitem"><p>        Allow unreserved keywords to be used as identifiers everywhere in
        PL/pgSQL (Tom Lane)
       </p><p>        In certain places in the PL/pgSQL grammar, keywords had to be quoted
        to be used as identifiers, even if they were nominally unreserved.
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.81.5.9.3"><div class="titlepage"><div><div><h5 class="title">E.77.3.7.2. <a class="link" href="plpython.html" title="Chapter 45. PL/Python - Python Procedural Language">PL/Python</a> Server-Side Language</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Add PL/Python result object string handler (Peter Eisentraut)
       </p><p>        This allows <code class="literal">plpy.debug(rv)</code> to output something reasonable.
       </p></li><li class="listitem"><p>        Make PL/Python convert OID values to a proper Python numeric type
        (Peter Eisentraut)
       </p></li><li class="listitem"><p>        Handle <a class="link" href="spi.html" title="Chapter 46. Server Programming Interface"><acronym class="acronym">SPI</acronym></a> errors raised
        explicitly (with PL/Python's <code class="literal">RAISE</code>) the same as
        internal <acronym class="acronym">SPI</acronym> errors (Oskari Saarenmaa and Jan Urbanski)
       </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.81.5.10"><div class="titlepage"><div><div><h4 class="title">E.77.3.8. Server Programming Interface (<a class="link" href="spi.html" title="Chapter 46. Server Programming Interface">SPI</a>)</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Prevent leakage of <acronym class="acronym">SPI</acronym> tuple tables during subtransaction
        abort (Tom Lane)
       </p><p>        At the end of any failed subtransaction, the core SPI code now
        releases any SPI tuple tables that were created during that
        subtransaction.  This avoids the need for SPI-using code to keep track
        of such tuple tables and release them manually in error-recovery code.
        Failure to do so caused a number of transaction-lifespan memory leakage
        issues in PL/pgSQL and perhaps other SPI clients.  <a class="link" href="spi-spi-freetupletable.html" title="SPI_freetuptable"><code class="function">SPI_freetuptable()</code></a>
        now protects itself against multiple freeing requests, so any existing
        code that did take care to clean up shouldn't be broken by this change.
       </p></li><li class="listitem"><p>        Allow <acronym class="acronym">SPI</acronym> functions to access the number of rows processed
        by <a class="link" href="sql-copy.html" title="COPY"><code class="command">COPY</code></a> (Pavel Stehule)
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.81.5.11"><div class="titlepage"><div><div><h4 class="title">E.77.3.9. Client Applications</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Add command-line utility <a class="link" href="app-pg-isready.html" title="pg_isready"><span class="application">pg_isready</span></a> to
        check if the server is ready to accept connections (Phil Sorber)
       </p></li><li class="listitem"><p>        Support multiple <code class="option">--table</code> arguments for <a class="link" href="app-pgrestore.html" title="pg_restore"><span class="application">pg_restore</span></a>,
        <a class="link" href="app-clusterdb.html" title="clusterdb"><span class="application">clusterdb</span></a>,
        <a class="link" href="app-reindexdb.html" title="reindexdb"><span class="application">reindexdb</span></a>,
        and <a class="link" href="app-vacuumdb.html" title="vacuumdb"><span class="application">vacuumdb</span></a>
        (Josh Kupershmidt)
       </p><p>        This is similar to the way <a class="link" href="app-pgdump.html" title="pg_dump"><span class="application">pg_dump</span></a>'s
        <code class="option">--table</code> option works.
       </p></li><li class="listitem"><p>        Add <code class="option">--dbname</code> option to <a class="link" href="app-pg-dumpall.html" title="pg_dumpall"><span class="application">pg_dumpall</span></a>, <a class="link" href="app-pgbasebackup.html" title="pg_basebackup"><span class="application">pg_basebackup</span></a>, and
        <a class="link" href="app-pgreceivewal.html" title="pg_receivewal"><span class="application">pg_receivexlog</span></a>
        to allow specifying a connection string (Amit Kapila)
       </p></li><li class="listitem"><p>        Add libpq function <a class="link" href="libpq-connect.html#LIBPQ-PQCONNINFO"><code class="function">PQconninfo()</code></a>
        to return connection information (Zoltán
        Böszörményi, Magnus Hagander)
       </p></li></ul></div><div class="sect4" id="id-1.11.6.81.5.11.3"><div class="titlepage"><div><div><h5 class="title">E.77.3.9.1. <a class="link" href="app-psql.html" title="psql"><span class="application">psql</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Adjust function cost settings so <span class="application">psql</span> tab
        completion and pattern searching are more efficient (Tom Lane)
       </p></li><li class="listitem"><p>        Improve <span class="application">psql</span>'s tab completion coverage (Jeff Janes,
        Dean Rasheed, Peter Eisentraut, Magnus Hagander)
       </p></li><li class="listitem"><p>        Allow the <span class="application">psql</span> <code class="option">--single-transaction</code>
        mode to work when reading from standard input (Fabien Coelho,
        Robert Haas)
       </p><p>        Previously this option only worked when reading from a file.
       </p></li><li class="listitem"><p>        Remove <span class="application">psql</span> warning when connecting to an older
        server (Peter Eisentraut)
       </p><p>        A warning is still issued when connecting to a server of a newer major
        version than <span class="application">psql</span>'s.
       </p></li></ul></div><div class="sect5" id="id-1.11.6.81.5.11.3.3"><div class="titlepage"><div><div><h6 class="title">E.77.3.9.1.1. <a class="link" href="app-psql.html#APP-PSQL-META-COMMANDS" title="Meta-Commands">Backslash Commands</a></h6></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Add <span class="application">psql</span> command <code class="command">\watch</code> to repeatedly
        execute a SQL command (Will Leinweber)
       </p></li><li class="listitem"><p>        Add <span class="application">psql</span> command <code class="command">\gset</code> to store query
        results in <span class="application">psql</span> variables (Pavel Stehule)
       </p></li><li class="listitem"><p>        Add <acronym class="acronym">SSL</acronym> information to <span class="application">psql</span>'s
        <code class="command">\conninfo</code> command (Alastair Turner)
       </p></li><li class="listitem"><p>        Add <span class="quote">“<span class="quote">Security</span>”</span> column to <span class="application">psql</span>'s
        <code class="command">\df+</code> output (Jon Erdman)
       </p></li><li class="listitem"><p>        Allow <span class="application">psql</span> command <code class="command">\l</code> to accept a database
        name pattern (Peter Eisentraut)
       </p></li><li class="listitem"><p>        In <span class="application">psql</span>, do not allow <code class="command">\connect</code> to
        use defaults if there is no active connection (Bruce Momjian)
       </p><p>        This might be the case if the server had crashed.
       </p></li><li class="listitem"><p>        Properly reset state after failure of a SQL command executed with
        <span class="application">psql</span>'s <code class="literal">\g</code> <em class="replaceable"><code>file</code></em>
        (Tom Lane)
       </p><p>        Previously, the output from subsequent SQL commands would unexpectedly
        continue to go to the same file.
       </p></li></ul></div></div><div class="sect5" id="id-1.11.6.81.5.11.3.4"><div class="titlepage"><div><div><h6 class="title">E.77.3.9.1.2. Output</h6></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Add a <code class="literal">latex-longtable</code> output format to
        <span class="application">psql</span> (Bruce Momjian)
       </p><p>        This format allows tables to span multiple pages.
       </p></li><li class="listitem"><p>        Add a <code class="literal">border=3</code> output mode to the <span class="application">psql</span>
        <code class="literal">latex</code> format (Bruce Momjian)
       </p></li><li class="listitem"><p>        In <span class="application">psql</span>'s tuples-only and expanded output modes, no
        longer emit <span class="quote">“<span class="quote">(No rows)</span>”</span> for zero rows (Peter Eisentraut)
       </p></li><li class="listitem"><p>        In <span class="application">psql</span>'s unaligned, expanded output mode, no longer
        print an empty line for zero rows (Peter Eisentraut)
       </p></li></ul></div></div></div><div class="sect4" id="id-1.11.6.81.5.11.4"><div class="titlepage"><div><div><h5 class="title">E.77.3.9.2. <a class="link" href="app-pgdump.html" title="pg_dump"><span class="application">pg_dump</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Add <span class="application">pg_dump</span> <code class="option">--jobs</code> option to dump tables in
        parallel (Joachim Wieland)
       </p></li><li class="listitem"><p>        Make <span class="application">pg_dump</span> output functions in a more predictable
        order (Joel Jacobson)
       </p></li><li class="listitem"><p>        Fix tar files emitted by <span class="application">pg_dump</span>
        to be <acronym class="acronym">POSIX</acronym> conformant (Brian Weaver, Tom Lane)
       </p></li><li class="listitem"><p>        Add <code class="option">--dbname</code> option to <span class="application">pg_dump</span>, for
        consistency with other client commands (Heikki Linnakangas)
       </p><p>        The database name could already be supplied last without a flag.
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.81.5.11.5"><div class="titlepage"><div><div><h5 class="title">E.77.3.9.3. <a class="link" href="app-initdb.html" title="initdb"><span class="application">initdb</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Make initdb fsync the newly created data directory (Jeff Davis)
       </p><p>        This insures data integrity in event of a system crash shortly after
        initdb.  This can be disabled by using <code class="option">--nosync</code>.
       </p></li><li class="listitem"><p>        Add initdb <code class="option">--sync-only</code> option to sync the data directory to durable
        storage (Bruce Momjian)
       </p><p>        This is used by <a class="link" href="pgupgrade.html" title="pg_upgrade"><span class="application">pg_upgrade</span></a>.
       </p></li><li class="listitem"><p>        Make initdb issue a warning about placing the data directory at the
        top of a file system mount point (Bruce Momjian)
       </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.81.5.12"><div class="titlepage"><div><div><h4 class="title">E.77.3.10. Source Code</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Add infrastructure to allow plug-in <a class="link" href="bgworker.html" title="Chapter 47. Background Worker Processes">background worker processes</a>
        (Álvaro Herrera)
       </p></li><li class="listitem"><p>        Create a centralized timeout <acronym class="acronym">API</acronym> (Zoltán
        Böszörményi)
       </p></li><li class="listitem"><p>        Create libpgcommon and move <code class="function">pg_malloc()</code> and other
        functions there (Álvaro Herrera, Andres Freund)
       </p><p>        This allows libpgport to be used solely for portability-related code.
       </p></li><li class="listitem"><p>        Add support for list links embedded in larger structs (Andres Freund)
       </p></li><li class="listitem"><p>        Use <code class="literal">SA_RESTART</code> for all signals,
        including <code class="literal">SIGALRM</code> (Tom Lane)
       </p></li><li class="listitem"><p>        Ensure that the correct text domain is used when
        translating <code class="function">errcontext()</code> messages
        (Heikki Linnakangas)
       </p></li><li class="listitem"><p>        Standardize naming of client-side memory allocation functions (Tom Lane)
       </p></li><li class="listitem"><p>        Provide support for <span class="quote">“<span class="quote">static assertions</span>”</span> that will fail at
        compile time if some compile-time-constant condition is not met
        (Andres Freund, Tom Lane)
       </p></li><li class="listitem"><p>        Support <code class="function">Assert()</code> in client-side code (Andrew Dunstan)
       </p></li><li class="listitem"><p>        Add decoration to inform the C compiler that some <code class="function">ereport()</code>
        and <code class="function">elog()</code> calls do not return (Peter Eisentraut,
        Andres Freund, Tom Lane, Heikki Linnakangas)
       </p></li><li class="listitem"><p>        Allow options to be passed to the regression
        test output comparison utility via <a class="link" href="regress-evaluation.html" title="32.2. Test Evaluation"><code class="envar">PG_REGRESS_DIFF_OPTS</code></a>
        (Peter Eisentraut)
       </p></li><li class="listitem"><p>        Add isolation tests for <a class="link" href="sql-createindex.html" title="CREATE INDEX"><code class="command">CREATE INDEX
        CONCURRENTLY</code></a> (Abhijit Menon-Sen)
       </p></li><li class="listitem"><p>        Remove typedefs for <code class="type">int2</code>/<code class="type">int4</code> as they are better
        represented as <code class="type">int16</code>/<code class="type">int32</code> (Peter Eisentraut)
       </p></li><li class="listitem"><p>        Fix <a class="link" href="install-procedure.html#INSTALL" title="Installing the Files">install-strip</a> on Mac <span class="productname">OS
        X</span> (Peter Eisentraut)
       </p></li><li class="listitem"><p>        Remove <a class="link" href="install-procedure.html#CONFIGURE" title="Configuration">configure</a> flag
        <code class="option">--disable-shared</code>, as it is no longer supported
        (Bruce Momjian)
       </p></li><li class="listitem"><p>        Rewrite pgindent in <span class="application">Perl</span> (Andrew Dunstan)
       </p></li><li class="listitem"><p>        Provide Emacs macro to set Perl formatting to
        match <span class="productname">PostgreSQL</span>'s perltidy settings (Peter Eisentraut)
       </p></li><li class="listitem"><p>        Run tool to check the keyword list whenever the backend grammar is
        changed (Tom Lane)
       </p></li><li class="listitem"><p>        Change the way <code class="literal">UESCAPE</code> is lexed, to significantly reduce
        the size of the lexer tables (Heikki Linnakangas)
       </p></li><li class="listitem"><p>        Centralize <span class="application">flex</span> and <span class="application">bison</span>
        <span class="application">make</span> rules (Peter Eisentraut)
       </p><p>        This is useful for <span class="application">pgxs</span> authors.
       </p></li><li class="listitem"><p>        Change many internal backend functions to return object <code class="type">OID</code>s
        rather than void (Dimitri Fontaine)
       </p><p>        This is useful for event triggers.
       </p></li><li class="listitem"><p>        Invent pre-commit/pre-prepare/pre-subcommit events for transaction
        callbacks (Tom Lane)
       </p><p>        Loadable modules that use transaction callbacks might need modification
        to handle these new event types.
       </p></li><li class="listitem"><p>        Add function <a class="link" href="functions-info.html#FUNCTIONS-INFO-CATALOG-TABLE" title="Table 9.63. System Catalog Information Functions"><code class="function">pg_identify_object()</code></a>
        to produce a machine-readable description of a database object
        (Álvaro Herrera)
       </p></li><li class="listitem"><p>        Add post-<code class="command">ALTER</code>-object server hooks (KaiGai Kohei)
       </p></li><li class="listitem"><p>        Implement a generic binary heap and use it for Merge-Append
        operations (Abhijit Menon-Sen)
       </p></li><li class="listitem"><p>        Provide a tool to help detect timezone abbreviation changes when
        updating the <code class="filename">src/timezone/data</code> files
        (Tom Lane)
       </p></li><li class="listitem"><p>        Add <span class="application">pkg-config</span> support for <span class="application">libpq</span>
        and <span class="application">ecpg</span> libraries (Peter Eisentraut)
       </p></li><li class="listitem"><p>        Remove <code class="filename">src/tools/backend</code>, now that the content is on
        the <span class="productname">PostgreSQL</span> wiki (Bruce Momjian)
       </p></li><li class="listitem"><p>        Split out <a class="link" href="wal.html" title="Chapter 30. Reliability and the Write-Ahead Log"><acronym class="acronym">WAL</acronym></a> reading as
        an independent facility (Heikki Linnakangas, Andres Freund)
       </p></li><li class="listitem"><p>        Use a 64-bit integer to represent <a class="link" href="wal.html" title="Chapter 30. Reliability and the Write-Ahead Log"><acronym class="acronym">WAL</acronym></a> positions
        (<code class="structname">XLogRecPtr</code>) instead of two 32-bit integers
        (Heikki Linnakangas)
       </p><p>        Generally, tools that need to read the <acronym class="acronym">WAL</acronym> format
        will need to be adjusted.
       </p></li><li class="listitem"><p>        Allow <a class="link" href="plpython.html" title="Chapter 45. PL/Python - Python Procedural Language">PL/Python</a> to support
        platform-specific include directories (Peter Eisentraut)
       </p></li><li class="listitem"><p>        Allow <a class="link" href="plpython.html" title="Chapter 45. PL/Python - Python Procedural Language">PL/Python</a> on <span class="productname">OS
        X</span> to build against custom versions of <span class="application">Python</span>
        (Peter Eisentraut)
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.81.5.13"><div class="titlepage"><div><div><h4 class="title">E.77.3.11. Additional Modules</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Add a <a class="link" href="postgres-fdw.html" title="F.34. postgres_fdw"><span class="productname">Postgres</span> foreign
        data wrapper</a> contrib module to allow access to
        other <span class="productname">Postgres</span> servers (Shigeru Hanada)
       </p><p>        This foreign data wrapper supports writes.
       </p></li><li class="listitem"><p>        Add <a class="link" href="pgwaldump.html" title="pg_waldump"><span class="application">pg_xlogdump</span></a>
        contrib program (Andres Freund)
       </p></li><li class="listitem"><p>        Add support for indexing of regular-expression searches in
        <a class="link" href="pgtrgm.html" title="F.32. pg_trgm"><span class="productname">pg_trgm</span></a>
        (Alexander Korotkov)
       </p></li><li class="listitem"><p>        Improve <a class="link" href="pgtrgm.html" title="F.32. pg_trgm"><span class="productname">pg_trgm</span></a>'s
        handling of multibyte characters (Tom Lane)
       </p><p>        On a platform that does not have the wcstombs() or towlower() library
        functions, this could result in an incompatible change in the contents
        of <span class="productname">pg_trgm</span> indexes for non-ASCII data.  In such cases,
        <code class="command">REINDEX</code> those indexes to ensure correct search results.
       </p></li><li class="listitem"><p>        Add a <a class="link" href="pgstattuple.html" title="F.31. pgstattuple">pgstattuple</a> function to report
        the size of the pending-insertions list of a <acronym class="acronym">GIN</acronym> index
        (Fujii Masao)
       </p></li><li class="listitem"><p>        Make <a class="link" href="oid2name.html" title="oid2name"><span class="application">oid2name</span></a>,
        <a class="link" href="pgbench.html" title="pgbench"><span class="application">pgbench</span></a>, and
        <a class="link" href="vacuumlo.html" title="vacuumlo"><span class="application">vacuumlo</span></a> set
        <code class="varname">fallback_application_name</code> (Amit Kapila)
       </p></li><li class="listitem"><p>        Improve output of <a class="link" href="pgtesttiming.html" title="pg_test_timing"><span class="application">pg_test_timing</span></a>
        (Bruce Momjian)
       </p></li><li class="listitem"><p>        Improve output of <a class="link" href="pgtestfsync.html" title="pg_test_fsync"><span class="application">pg_test_fsync</span></a>
        (Peter Geoghegan)
       </p></li><li class="listitem"><p>        Create a dedicated foreign data wrapper, with its own option validator
        function, for <a class="link" href="dblink.html" title="F.11. dblink">dblink</a> (Shigeru Hanada)
       </p><p>        When using this FDW to define the target of a <span class="application">dblink</span>
        connection, instead of using a hard-wired list of connection options,
        the underlying <span class="application">libpq</span> library is consulted to see what
        connection options it supports.
       </p></li></ul></div><div class="sect4" id="id-1.11.6.81.5.13.3"><div class="titlepage"><div><div><h5 class="title">E.77.3.11.1. <a class="link" href="pgupgrade.html" title="pg_upgrade"><span class="application">pg_upgrade</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Allow <span class="application">pg_upgrade</span> to do dumps and restores in
        parallel (Bruce Momjian, Andrew Dunstan)
       </p><p>        This allows parallel schema dump/restore of databases, as well as
        parallel copy/link of data files per tablespace.  Use the
        <code class="option">--jobs</code> option to specify the level of parallelism.
       </p></li><li class="listitem"><p>        Make <span class="application">pg_upgrade</span> create Unix-domain sockets in
        the current directory (Bruce Momjian, Tom Lane)
       </p><p>        This reduces the possibility that someone will accidentally connect
        during the upgrade.
       </p></li><li class="listitem"><p>        Make <span class="application">pg_upgrade</span> <code class="option">--check</code> mode properly
        detect the location of non-default socket directories (Bruce
        Momjian, Tom Lane)
       </p></li><li class="listitem"><p>        Improve performance of <span class="application">pg_upgrade</span> for databases
        with many tables (Bruce Momjian)
       </p></li><li class="listitem"><p>        Improve <span class="application">pg_upgrade</span>'s logs by showing
        executed commands (Álvaro Herrera)
       </p></li><li class="listitem"><p>        Improve <span class="application">pg_upgrade</span>'s status display during
        copy/link (Bruce Momjian)
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.81.5.13.4"><div class="titlepage"><div><div><h5 class="title">E.77.3.11.2. <a class="link" href="pgbench.html" title="pgbench"><span class="application">pgbench</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Add <code class="option">--foreign-keys</code> option to <span class="application">pgbench</span>
        (Jeff Janes)
       </p><p>        This adds foreign key constraints to the standard tables created by
        <span class="application">pgbench</span>, for use in foreign key performance testing.
       </p></li><li class="listitem"><p>        Allow <span class="application">pgbench</span> to aggregate performance statistics
        and produce output every <code class="option">--aggregate-interval</code>
        seconds (Tomas Vondra)
       </p></li><li class="listitem"><p>        Add <span class="application">pgbench</span> <code class="option">--sampling-rate</code> option
        to control the percentage of transactions logged (Tomas Vondra)
       </p></li><li class="listitem"><p>        Reduce and improve the status message output of
        <span class="application">pgbench</span>'s initialization mode (Robert Haas,
        Peter Eisentraut)
       </p></li><li class="listitem"><p>        Add <span class="application">pgbench</span> <code class="option">-q</code> mode to print one output
        line every five seconds (Tomas Vondra)
       </p></li><li class="listitem"><p>        Output <span class="application">pgbench</span> elapsed and estimated remaining
        time during initialization (Tomas Vondra)
       </p></li><li class="listitem"><p>        Allow <span class="application">pgbench</span> to use much larger scale factors,
        by changing relevant columns from <code class="type">integer</code> to <code class="type">bigint</code>
        when the requested scale factor exceeds 20000
        (Greg Smith)
       </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.81.5.14"><div class="titlepage"><div><div><h4 class="title">E.77.3.12. Documentation</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>        Allow <span class="productname">EPUB</span>-format documentation to be created
        (Peter Eisentraut)
       </p></li><li class="listitem"><p>        Update <span class="productname">FreeBSD</span> kernel configuration documentation
        (Brad Davis)
       </p></li><li class="listitem"><p>        Improve <a class="link" href="tutorial-window.html" title="3.5. Window Functions"><code class="literal">WINDOW</code>
        function</a> documentation (Bruce Momjian, Florian Pflug)
       </p></li><li class="listitem"><p>        Add <a class="link" href="docguide-toolsets.html" title="J.2. Tool Sets">instructions</a> for setting
        up the documentation tool chain on <span class="productname">macOS</span>
        (Peter Eisentraut)
       </p></li><li class="listitem"><p>        Improve <a class="link" href="runtime-config-wal.html#GUC-COMMIT-DELAY"><code class="varname">commit_delay</code></a>
        documentation (Peter Geoghegan)
       </p></li></ul></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-9-3-1.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="release-9-2-24.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">E.76. Release 9.3.1 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> E.78. Release 9.2.24</td></tr></table></div></body></html>